
<!DOCTYPE html>
<html dir="ltr" lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="author" content="Simplessssss">
  <meta name="keywords" content="Simplessssss" />
  <meta name="description" content="Simplessssss - Simplessssss" />
  <link rel="stylesheet" type="text/css" media="all" href="/assets/themes/ilost/style.css" />
  <link rel="stylesheet" type="text/css" media="all" href="/assets/themes/ilost/pygments.css" />
  <link href="atom.xml" type="application/atom+xml" rel="alternate" title="Simplessssss  &raquo; ATOM Feed">
  <title>SRM676Dv2 - Simplessssss</title>
</head>

<body class="single single-format-standard">
  <header>
    <!--<form role="search" method="get" id="searchform" action="http://blog.binux.me/" >-->
      <!--<div><label class="screen-reader-text" for="s">搜索：</label>-->
        <!--<input type="text" value="" name="s" id="s" />-->
        <!--<input type="submit" id="searchsubmit" value="搜索" />-->
      <!--</div>-->
    <!--</form>-->
    <div class="hgroup">
      <h1><a href="/">Simplessssss</a></h1>
      <span class="hidden">Simplessssss</span>
      <a class="feedrss" href="http://simplessssss.com/atom.xml">ATOM Rss</a>
    </div>
    <div class="menu">
      <ul>
        <li><a href="/" title="Homepage">Homepage</a></li>
        <li class="page_item"><a href="/archive.html">Archive</a></li>
        <li class="page_item"><a href="/categories.html">Categories</a></li>
        <!--<li class="page_item"><a href="/pages.html">Pages</a></li>-->
        <li class="page_item"><a href="/tags.html">Tags</a></li>
        <!--<li class="page_item"><a href="/projects.html">Projects</a></li>-->
      </ul>
    </div>
  </header>
  <hr/>
  <div id="content">
    
<article>
  <section class="post type-post status-publish format-standard hentry">
    <div class="title">
      <h2>SRM676Dv2</h2>
      <small>
        <date class="date-pub" title="2016-01-27T00:00:00-06:00" datetime="2016-01-27T00:00:00-06:00" pubdate>
          <span class="month">January</span>
          <span class="day">27</span>
          <span class="year">2016</span>
        </date>, 
				
        
           
            <a href="/categories.html#algorithm-ref" rel="category tag">algorithm</a>
          
        
      </small>
    </div>
    <div class="entry">
      
<h3 id="farmvillediv2">250. FarmvilleDiv2</h3>

<p>While budget is greater than 0, then it should be possbile to reduce time, so reduce the one which has the smallest cost by 1.</p>

<div class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="k">struct</span> <span class="n">T</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">t</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">c</span><span class="p">;</span>

  <span class="n">T</span><span class="p">(</span><span class="kt">int</span> <span class="n">ts</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">int</span> <span class="n">cs</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> 
  <span class="o">:</span> <span class="n">t</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span>
  <span class="p">,</span> <span class="n">c</span><span class="p">(</span><span class="n">cs</span><span class="p">)</span>
  <span class="p">{</span>

  <span class="p">}</span>

  <span class="kt">bool</span> <span class="k">operator</span> <span class="o">&lt;</span> <span class="p">(</span><span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="n">other</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">c</span> <span class="o">&lt;</span> <span class="n">other</span><span class="p">.</span><span class="n">c</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">FarmvilleDiv2</span>
<span class="p">{</span>
  <span class="k">public</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">minTime</span><span class="p">(</span><span class="n">vector</span> <span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">time</span><span class="p">,</span> <span class="n">vector</span> <span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">cost</span><span class="p">,</span> <span class="kt">int</span> <span class="n">budget</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
    <span class="n">vector</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">ts</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="n">ts</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">ts</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">c</span> <span class="o">=</span> <span class="n">cost</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="n">sort</span><span class="p">(</span><span class="n">ts</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">ts</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
    <span class="kt">int</span> <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">while</span> <span class="p">(</span><span class="n">budget</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">start</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">ts</span><span class="p">[</span><span class="n">start</span><span class="p">].</span><span class="n">t</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="n">start</span><span class="o">++</span><span class="p">;</span> <span class="k">continue</span><span class="p">;</span> <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">ts</span><span class="p">[</span><span class="n">start</span><span class="p">].</span><span class="n">c</span> <span class="o">&gt;</span> <span class="n">budget</span><span class="p">)</span> <span class="k">break</span><span class="p">;</span>
      <span class="n">budget</span> <span class="o">-=</span> <span class="n">ts</span><span class="p">[</span><span class="n">start</span><span class="p">].</span><span class="n">c</span><span class="p">;</span>
      <span class="n">ts</span><span class="p">[</span><span class="n">start</span><span class="p">].</span><span class="n">t</span><span class="o">--</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="n">ans</span> <span class="o">+=</span> <span class="n">ts</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">t</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span></code></pre></div>

<p>This solution is not trivial, and it requires me to generate a struct and should be able think clearly about the while loop. First we can use pair and then automatically use sort would work. (much much simpler)</p>

<div class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="k">class</span> <span class="nc">FarmvilleDiv2</span>
<span class="p">{</span>
  <span class="n">PII</span> <span class="n">p</span><span class="p">[</span><span class="mi">51</span><span class="p">];</span>
  <span class="k">public</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">minTime</span><span class="p">(</span><span class="n">vector</span> <span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">time</span><span class="p">,</span> <span class="n">vector</span> <span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">cost</span><span class="p">,</span> <span class="kt">int</span> <span class="n">budget</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
    <span class="n">REP</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">first</span> <span class="o">=</span> <span class="n">cost</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">second</span> <span class="o">=</span> <span class="n">time</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="p">}</span>
    <span class="n">sort</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">p</span><span class="o">+</span><span class="n">n</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">REP</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
      <span class="kt">int</span> <span class="n">t</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">second</span><span class="p">,</span> <span class="n">budget</span><span class="o">/</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">first</span><span class="p">);</span>
      <span class="n">budget</span> <span class="o">-=</span> <span class="n">t</span><span class="o">*</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">first</span><span class="p">;</span>
      <span class="n">ans</span> <span class="o">+=</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">second</span><span class="o">-</span><span class="n">t</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
  <span class="p">}</span>  
<span class="p">};</span></code></pre></div>

<hr />

<h3 id="boardescapediv2">500. BoardEscapeDiv2</h3>

<p>DP and recursive. Solve this problem recursively.<br />
f[i][j][k] means there is k steps left and currently the person is at board[i][j]. f[i][j][k] is equal to true if and only if there exists f[i+dx[j]][j+dy[j]][k-1] is true.<br />
And the boundary is k == 0 or board[x][y] == ‘E’</p>

<p>int dx[] = {0, 0, 1, -1};<br />
int dy[] = {1, -1, 0, 0};<br />
const int maxn = 55;<br />
int f[maxn][maxn][105];</p>

<div class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="k">class</span> <span class="nc">BoardEscapeDiv2</span>
<span class="p">{</span>
  <span class="n">vector</span> <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">s</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">;</span>
  <span class="k">public</span><span class="o">:</span>
  <span class="n">string</span> <span class="n">findWinner</span><span class="p">(</span><span class="n">vector</span> <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">s</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">this</span><span class="o">-&gt;</span><span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="p">;</span>
    <span class="n">memset</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">f</span><span class="p">));</span>
    <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">c</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">size</span><span class="p">();</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">r</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">c</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;T&#39;</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">j</span><span class="p">;</span>
        <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="sc">&#39;.&#39;</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">if</span><span class="p">(</span><span class="n">go</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">k</span><span class="p">))</span> <span class="k">return</span> <span class="s">&quot;Alice&quot;</span><span class="p">;</span>
    <span class="k">return</span> <span class="s">&quot;Bob&quot;</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kt">int</span> <span class="n">go</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span><span class="p">)</span> <span class="p">{</span>
   <span class="kt">int</span><span class="o">&amp;</span> <span class="n">ans</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">][</span><span class="n">k</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">ans</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;#&#39;</span><span class="p">)</span> <span class="k">return</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;E&#39;</span> <span class="o">||</span> <span class="n">k</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kt">int</span> <span class="n">tx</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">dx</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
      <span class="kt">int</span> <span class="n">ty</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">dy</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">valid</span><span class="p">(</span><span class="n">tx</span><span class="p">,</span> <span class="n">ty</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">go</span><span class="p">(</span><span class="n">tx</span><span class="p">,</span> <span class="n">ty</span><span class="p">,</span> <span class="n">k</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kt">bool</span> <span class="n">valid</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="n">r</span> <span class="o">||</span> <span class="n">y</span> <span class="o">&gt;=</span> <span class="n">c</span><span class="p">)</span>
      <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
  <span class="p">}</span>
 <span class="p">};</span></code></pre></div>

<hr />

<h3 id="railroadswitchoperator">1000. RailroadSwitchOperator</h3>

<p>First name all nodes in the tree from 0-2N-1. Then for each node k, its left child is 2k+1 and right child is 2k+2.<br />
 After that for each train, generate a list for at each time, its position and direction.<br />
 Sort full list based on the time. Go through the list, if last used time for node k is smaller than last modified time, then the node can be changed to any direction. Otherwise if current different is different from the one required, then ans++, change the direction and update last modified time. Notice everytime go through a node, the last used time for node k should be updated as well.</p>

<div class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="k">struct</span> <span class="n">E</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">t</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">p</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">d</span><span class="p">;</span>
  <span class="n">E</span><span class="p">(</span><span class="kt">int</span> <span class="n">t</span><span class="p">,</span> <span class="kt">int</span> <span class="n">p</span><span class="p">,</span> <span class="kt">int</span> <span class="n">d</span><span class="p">)</span> <span class="o">:</span> <span class="n">t</span><span class="p">(</span><span class="n">t</span><span class="p">),</span> <span class="n">p</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="n">d</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="p">{}</span>
  <span class="kt">bool</span> <span class="k">operator</span> <span class="o">&lt;</span> <span class="p">(</span><span class="k">const</span> <span class="n">E</span><span class="o">&amp;</span> <span class="n">other</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">t</span> <span class="o">&lt;</span> <span class="n">other</span><span class="p">.</span><span class="n">t</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">RailroadSwitchOperator</span>
<span class="p">{</span>
  <span class="k">public</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">minEnergy</span><span class="p">(</span><span class="kt">int</span> <span class="n">N</span><span class="p">,</span> <span class="n">vector</span> <span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">x</span><span class="p">,</span> <span class="n">vector</span> <span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">t</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">vector</span> <span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="n">f</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">--</span><span class="p">;</span>
      <span class="kt">int</span> <span class="n">ct</span> <span class="o">=</span> <span class="n">t</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
      <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">N</span><span class="p">;</span>
      <span class="kt">int</span> <span class="n">p</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="k">while</span> <span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
          <span class="n">f</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">E</span><span class="p">(</span><span class="n">ct</span><span class="p">,</span>  <span class="n">p</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">);</span>
          <span class="n">b</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
          <span class="n">p</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">p</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> 
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="n">f</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">E</span><span class="p">(</span><span class="n">ct</span><span class="p">,</span>  <span class="n">p</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">);</span>
          <span class="n">a</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
          <span class="n">p</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">p</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">ct</span><span class="o">++</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="n">sort</span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">f</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
    <span class="n">vector</span> <span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">lu</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">N</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="n">vector</span> <span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">dir</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">N</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">last</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="nl">e</span> <span class="p">:</span> <span class="n">f</span><span class="p">)</span> <span class="p">{</span>
      <span class="kt">int</span> <span class="n">p</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="n">p</span><span class="p">,</span> <span class="n">t</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="n">t</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="n">d</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">lu</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">last</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">dir</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span><span class="p">;</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">dir</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">!=</span> <span class="n">d</span><span class="p">)</span> <span class="p">{</span>
          <span class="n">ans</span><span class="o">++</span><span class="p">;</span>
          <span class="n">dir</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span><span class="p">;</span>
          <span class="n">last</span> <span class="o">=</span> <span class="n">t</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">}</span>
      <span class="n">lu</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">t</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
  <span class="p">}</span>
 <span class="p">};</span></code></pre></div>


    </div>
    <div class="post-meta">
      Tag:
      
      


    
     
      
      <a href="/tags.html#Topcoder-ref" class="tag-link" style="font-size: 12pt;">Topcoder</a>
    
  




      <div class="clear"></div>
    </div>
    <nav class="post-nav">
      
      <span class="previous"><a href="/algorithm/2016/01/26/srm675dv2.html" rel="prev" title="SRM675Dv2">SRM675Dv2</a></span>
      
      
      <span class="next"><a href="/algorithm/2016/01/27/srm677dv2.html" rel="next" title="SRM677Dv2">SRM677Dv2</a></span>
      
      <div class="clear"></div>
    </nav>
  </section>
  <div class="comment">
  


  <div id="disqus_thread"></div>
<script type="text/javascript">
    
    var disqus_shortname = 'simplessssss'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




  </div>
</article>


    <aside>
      <ul id="side" class="clear">
        <li id="links-2" class="widget widget_links"><h3 class="widgettitle">About Me</h3>
          <ul class='xoxo blogroll'>
            <li> 喜欢折腾，喜欢吐槽，经常犯二，爱乐高，爱炉石，学计算机的死宅。 </li>
            <li><a href="mailto:i@simplessssss.com" target="_blank" rel="me">i@simplessssss.com</a></li>
            <!--<li><a href="http://twitter.com/" target="_blank" rel="me">@</a></li>-->
            <li><a href="http://github.com/mzhang4/" target="_blank" rel="me">github.com/mzhang4</a></li>
            <!--<li><a href="http://gplus.to//" target="_blank" rel="me">gplus.to/</a></li>-->
          </ul>
        </li>
        <!--<li id="tag_cloud-2" class="widget widget_tag_cloud">-->
          <!--<h3 class="widgettitle">标签</h3>-->
          <!--<div class="tagcloud">-->
            <!--<ul>-->
              <!---->
              <!--


    
     
      
      <a href="/tags.html#leetcode-ref" class="tag-link" style="font-size: 22pt;">leetcode</a>
     
      
      <a href="/tags.html#Topcoder-ref" class="tag-link" style="font-size: 20pt;">Topcoder</a>
     
      
      <a href="/tags.html#CS-ref" class="tag-link" style="font-size: 17pt;">CS</a>
    
  



-->
            <!--</ul>-->
          <!--</div>-->
        <!--</li>-->
        <li id="recent-posts-2" class="widget widget_recent_entries">
          <h3 class="widgettitle">Recent articles</h3>
          <ul>
            
            <li><a href="/%E7%BE%8E%E5%9B%BD%E6%B8%B8/2016/06/12/mamothcave.html" title="猛犸象国家公园">猛犸象国家公园</a></li>
            
            <li><a href="/2016/06/08/ny2.html" title="纽约行(2)">纽约行(2)</a></li>
            
            <li><a href="/%E7%BE%8E%E5%9B%BD%E6%B8%B8/2016/06/04/ny1.html" title="纽约行(1)">纽约行(1)</a></li>
            
            <li><a href="/cs/2016/05/19/compilers.html" title="Compilers">Compilers</a></li>
            
            <li><a href="/leetcode/2016/02/19/330-patching-array.html" title="330. Patching Array">330. Patching Array</a></li>
            
            <li><a href="/leetcode/2016/02/17/312-burst-balloons.html" title="312. Burst Balloons">312. Burst Balloons</a></li>
            
            <li><a href="/leetcode/2016/02/17/307-range-sum-query---mutable.html" title="307. Range Sum Query   Mutable">307. Range Sum Query   Mutable</a></li>
            
            <li><a href="/leetcode/2016/02/17/152-maximum-product-subarray.html" title="152. Maximum Product Subarray">152. Maximum Product Subarray</a></li>
            
            <li><a href="/leetcode/2016/02/17/143-reorder-list.html" title="143. Reorder List">143. Reorder List</a></li>
            
            <li><a href="/leetcode/2016/02/16/225-implement-stack-using-queues.html" title="225. Implement Stack using Queues">225. Implement Stack using Queues</a></li>
            
          </ul>
        </li>
        <!-- <li id="recent-comments-2" class="widget widget_recent_comments"> by Minsheng --> 
        <!--   <h3 class="widgettitle">Recent comments</h3> by Minsheng -->
            <!--<ul id="recentcomments"> -->
        <!--    <script type="text/javascript" src="http://simplessssss.disqus.com/recent_comments_widget.js?num_items=5&hide_avatars=0&avatar_size=32&excerpt_length=50"></script> by Minsheng -->
            <!--<li class="recentcomments"><a href="" rel='external nofollow' class='url'></a> 发表在《<a href=""></a>》</li>-->
          <!--</ul>-->
        <!-- </li> by Minsheng -->
        <!--<li id="archives-2" class="widget widget_archive">-->
          <!--<h3 class="widgettitle">文章归档</h3>-->
          <!--<ul>-->
            <!--<li><a href='http://blog.binux.me/2012/09/' title='2012 年九月'>2012 年九月</a></li>-->
          <!--</ul>-->
        <!--</li>-->
        <!--<li id="categories-2" class="widget widget_categories">-->
          <!--<h3 class="widgettitle">分类目录</h3>-->
          <!--<ul>-->
            <!--<li class="cat-item cat-item-1"><a href="http://blog.binux.me/category/uncategorized/" title="查看 未分类 下的所有文章">未分类</a></li>-->
          <!--</ul>-->
        <!--</li>-->
      </ul>
    </aside>
    <div class="clear"></div>
  </div>
  <hr/>
  <footer>
    <div>
      <p class="line">
        <span class="alignright">
          <a href="/" title="Simplessssss">Homepage</a> &brvbar; <a href="/atom.xml">RSS</a> &brvbar; <a href="/sitemap.txt">Sitemap</a>
        </span>
        iLost theme  &brvbar; Designed by <a href="http://xuui.net/">Xu.hel</a> in ChengDu. Forked by <a href="http://simplessssss.com/">simplessssss</a>
      </p>
      <p><span class="alignright">Powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a></span>&copy; 版权所有 2015 <a href="http://simplessssss.com" title="Simplessssss" rel="home">Simplessssss </a></p    </div>

  </footer>
  
</body>
</html>

